#version 410 core

//======================================================================
//  Sprite.vert
//
//  ・2Dスプライト／UI／板ポリ用の非常にシンプルな頂点シェーダ
//  ・ワールド変換 → VP変換のみ
//  ・ライト計算なし（フォグもなし）
//
//  用途：
//    - UI（ボタン・アイコン・HPバー）
//    - 画面固定のテクスチャ
//    - ゲーム内の板ポリ（フォグやライティング不要のもの）
//======================================================================

//------------------------------------------------------------------------
// Uniforms
//------------------------------------------------------------------------
// ワールド行列（平行移動・回転・スケール）
uniform mat4 uWorldTransform;

// ビュー・プロジェクション行列（カメラ）
// UI の場合は Renderer 側で画面直交行列を設定する
uniform mat4 uViewProj;


//------------------------------------------------------------------------
// Attributes
//------------------------------------------------------------------------
// inPosition: 頂点座標
// inNormal  : 法線（Sprite では未使用だがレイアウト合わせで残す）
// inTexCoord: UV
layout(location = 0) in vec3 inPosition;
layout(location = 1) in vec3 inNormal;    // 未使用
layout(location = 2) in vec2 inTexCoord;


//------------------------------------------------------------------------
// フラグメントシェーダーへ渡すデータ
//------------------------------------------------------------------------
out vec2 fragTexCoord;


//======================================================================
// メイン
//======================================================================
void main()
{
    // 頂点座標を 4D ベクトルへ変換
    vec4 pos = vec4(inPosition, 1.0);

    // ワールド → カメラ → 射影
    // gl_Position は最終クリップ空間座標
    gl_Position = pos * uWorldTransform * uViewProj;

    // UV をそのまま出力
    fragTexCoord = inTexCoord;
}
