#pragma once

#include "Utils/MathUtil.h"

//------------------------------------------------------------------------------
// Plane
//------------------------------------------------------------------------------
// ・平面を ax + by + cz + d = 0 の形で表現する構造体。
// ・normal は平面の法線ベクトル（正規化して使う想定）。
// ・d は原点からの距離成分（上式の d）。
//------------------------------------------------------------------------------
struct Plane
{
    Vector3 normal; // 法線ベクトル
    float d;        // ax + by + cz + d = 0 の d

    //--------------------------------------------------------------------------
    // Distance
    //--------------------------------------------------------------------------
    // ・点 p に対する signed 距離を返す。
    //   > 0 : normal 側
    //   < 0 : 反対側
    //   = 0 : 平面上
    //--------------------------------------------------------------------------
    float Distance(const Vector3& p) const
    {
        return Vector3::Dot(normal, p) + d;
    }
};

//------------------------------------------------------------------------------
// Frustum
//------------------------------------------------------------------------------
// ・視錐台（カメラの見える範囲）を 6 枚の平面で表現する構造体。
// ・planes のインデックス対応：
//   0: Left   左面
//   1: Right  右面
//   2: Bottom 下
//   3: Top    上
//   4: Near   ニアクリップ
//   5: Far    ファークリップ
// ・Frustum カリングなどで使用する想定。
//------------------------------------------------------------------------------
struct Frustum
{
    Plane planes[6]; // 0:Left,1:Right,2:Bottom,3:Top,4:Near,5:Far
};
